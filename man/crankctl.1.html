<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="md2man 2.1.0 https://github.com/sunaku/md2man" />
  <title>crankctl(1) &mdash; crank control client</title>
  <link rel="stylesheet" href="style.css"/>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body><div class="navbar"><div class="navbar-inner"><span class="brand"><a href="index.html#man">man</a>/crankctl.1</span></div></div><div class="container-fluid"><h1 id="CRANKCTL-1-quot-APRIL-2014-quot-Crank"><span class="md2man-title">CRANKCTL</span> <span class="md2man-section">1</span> <span class="md2man-date">&quot;APRIL</span> <span class="md2man-source">2014&quot;</span> <span class="md2man-manual">Crank</span><a name="CRANKCTL-1-quot-APRIL-2014-quot-Crank" href="#CRANKCTL-1-quot-APRIL-2014-quot-Crank" class="md2man-permalink"></a></h1><h2 id="NAME">NAME<a name="NAME" href="#NAME" class="md2man-permalink"></a></h2><p>crankctl - crank control client</p><h2 id="SYNOPSIS">SYNOPSIS<a name="SYNOPSIS" href="#SYNOPSIS" class="md2man-permalink"></a></h2><p><code>crankctl</code> <code>&lt;command&gt;</code> [opts]</p><h2 id="DESCRIPTION">DESCRIPTION<a name="DESCRIPTION" href="#DESCRIPTION" class="md2man-permalink"></a></h2><p><code>crankctl</code> allows to send commands to <code>crank</code> through its control port.</p><h2 id="OPTIONS">OPTIONS<a name="OPTIONS" href="#OPTIONS" class="md2man-permalink"></a></h2><p>Global options:</p><dl><dt><code>-name</code> <em>process-name</em></dt><dd>If passed, it sets the <code>-ctl</code> arguments to a <code>$prefix/$name.ctl</code> default.</dd></dl><dl><dt><code>-prefix</code> <em>path</em></dt><dd>Sets the crank runtime directory. Defaults to <code>/var/crank</code>.</dd></dl><dl><dt><code>-ctl</code> <em>net-uri</em></dt><dd>Path or address of the control port. This should point to an existing unix
socket controlled by crank.</dd></dl><h2 id="COMMANDS">COMMANDS<a name="COMMANDS" href="#COMMANDS" class="md2man-permalink"></a></h2>
<ul>
<li><code>crankctl run [opts] -- [command ...args]</code></li>
</ul>
<p>Used to start a new process. Once ready, crank terminates the old process. If
the startup fails, crank leaves the old process running and untouched.</p><dl><dt><code>-cwd PATH</code></dt><dd>Directory name to run the command under.</dd></dl><dl><dt><code>-start SEC</code></dt><dd>Sets the start timeout of the process in seconds.</dd></dl><dl><dt><code>-stop SEC</code></dt><dd>Sets the stop timeout of the process in seconds.</dd></dl><dl><dt><code>-wait</code></dt><dd>Waits for either the process to be ready or to fail. If the new process has
failed, crankctl exits with an exit status of 1.</dd></dl><dl><dt><code>-pid PID</code></dt><dd>If passed crank will only spawn a new process if the current process matches
the pid. It&#39;s useful to avoid race conditions if multiple tools interact
with crank at the same time.</dd></dl><dl><dt><code>command ...args</code></dt><dd>Gives the command and args to run. If unspecified, the previous successful
command is used.</dd></dl>
<ul>
<li><code>crankctl info [opts]</code></li>
</ul>
<p>Returns infos on the crankctl runtime.</p>
<ul>
<li><code>crankctl ps [opts]</code></li>
</ul>
<p>Displays the status of running processes. If no argument is passed, all
processes are listed.</p><dl><dt><code>-starting</code></dt><dd>Selects all starting processes (should only be one)</dd></dl><dl><dt><code>-ready</code></dt><dd>Selects all ready processes (should only be one)</dd></dl><dl><dt><code>-stopping</code></dt><dd>Selects all stopping processes.</dd></dl><dl><dt><code>-pid PID</code></dt><dd>Selects a specific PID from the exisiting set. This flag is a AND filter
unlike the other ones.</dd></dl>
<ul>
<li><code>crankctl kill [opts]</code></li>
</ul>
<p>Sends a signal to the target processes. If no argument is passes, no processes
are signaled.</p><dl><dt><code>-signal SIGNAME</code></dt><dd>Provides the type of signal to send. If no signal is passed, SIGTERM is the
default. Signals can be prefixed with &quot;SIG&quot; or not. Eg: SIGINT or INT</dd></dl><dl><dt><code>-starting</code></dt><dd>Selects all starting processes (should only be one)</dd></dl><dl><dt><code>-ready</code></dt><dd>Selects all ready processes (should only be one)</dd></dl><dl><dt><code>-stopping</code></dt><dd>Selects all stopping processes.</dd></dl><dl><dt><code>-pid PID</code></dt><dd>Selects a specific PID from the exisiting set. This flag is a AND filter
unlike the other ones.</dd></dl><h2 id="ENVIRONMENT">ENVIRONMENT<a name="ENVIRONMENT" href="#ENVIRONMENT" class="md2man-permalink"></a></h2><dl><dt><code>CRANK_NAME</code>, <code>CRANK_CTL</code></dt><dd>If non-null it defines the default argument of their corresponding flag.</dd></dl><h2 id="SEE-ALSO">SEE ALSO<a name="SEE-ALSO" href="#SEE-ALSO" class="md2man-permalink"></a></h2><p><a class="md2man-xref">crank(1)</a>, <a class="md2man-xref">crankmulti(1)</a></p></div></body>
</html>
